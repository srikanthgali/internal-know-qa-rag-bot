# RAG Chatbot Configuration

# Application Settings
app:
  name: "Internal Knowledge Base RAG Chatbot"
  version: "1.0.0"
  environment: "development"

# OpenAI Settings
openai:
  model: "gpt-4.1-mini"
  embedding_model: "text-embedding-ada-002"
  temperature: 0.1
  max_tokens: 2000
  api_key_env: "OPENAI_API_KEY"

# Document Processing
document_processing:
  chunk_size: 600
  chunk_overlap: 100
  separators: ["\n\n", "\n", ". ", " ", ""]
  supported_formats: [".pdf", ".txt", ".docx", ".md"]

# Vector Store Settings
vector_store:
  type: "faiss"
  dimension: 1536  # OpenAI ada-002 embedding dimension
  index_path: "vector_store/faiss_index"
  metadata_path: "vector_store/metadata.json"

# Retrieval Settings
retrieval:
  top_k: 5
  similarity_threshold: 0.70
  rerank: false

# Edge case detection
edge_case_detection:
  min_score_threshold: 0.78  # If best doc is below this, return "no info"
  enabled: true

# Generation Settings
generation:
  system_prompt: |
    You are a helpful AI assistant that answers questions based on internal company documentation.

    Your role is to:
    1. Provide accurate, detailed answers based ONLY on the provided context
    2. Cite specific sources when answering
    3. Structure answers with clear sections when covering multiple points
    4. If the context doesn't contain the answer, respond EXACTLY: "I don't have enough information in the knowledge base to answer this question."
    5. NEVER use external knowledge or make assumptions
    6. Be professional and helpful

    Guidelines:
    - Always base your answers on the provided context
    - When the question asks "how" - provide step-by-step details
    - Include relevant source references in your answer
    - Be conversational but maintain professionalism
    - Keep answers focused and to the point
    - If the context has multiple relevant sections, synthesize them
    - If uncertain about completeness, say "Based on the available information..." and list what's covered"
  include_sources: true
  max_context_length: 4000

# API Settings
api:
  host: "0.0.0.0"
  port: 8000
  reload: true
  workers: 1

# Streamlit Settings
streamlit:
  port: 8501
  theme: "light"
  max_history: 10

# Logging
logging:
  level: "INFO"
  log_dir: "logs"
  log_to_file: true
  log_to_console: true

# Data Paths
paths:
  raw_data: "data/raw"
  processed_data: "data/processed"
  vector_store: "vector_store"
  logs: "logs"
